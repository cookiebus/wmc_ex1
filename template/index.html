<html>


<head>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
      crossorigin="anonymous">
</head>

<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
  </div>
</nav>

<div class="jumbotron masthead container">
    <div class="jumbotron">
  <h1>Hello, world!</h1>
  <p>你好</p>
  <p><a class="btn btn-primary btn-lg" href="#" role="button">Learn more</a></p>
</div>

<table class="table table-striped"> 
  <caption>
    Todo List 表格
    <button class="btn btn-success"
    data-toggle="modal" data-target="#modal-add"
    >添加事件</button>
  </caption> 

  <div class="modal fade" id="modal-add">
    <form action="/add/" method="post">
        {% csrf_token %}
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">添加事件</h4>
                </div>
                <div class="modal-body">
                    <div class="from-group">
                        <label>事件名称</label>
                        <textarea type="text" class="from-control" name="title"></textarea>
                    </div>
                    <div class="from-group">
                        <label>事件名称</label>
                        <textarea type="text" class="from-control" name="description"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button submit" class="btn btn-primary">提交</button>
                </div>
            </div><!-- /.modal-content -->
        </div>
    </form><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <thead> 
  <tr> 
      <th>事件名称</th> 
      <th>截止日期</th> 
      <th>是否完成</th> 
      <th>创建时间</th> 
      <th>更新时间</th> 
      <th>修改</th>
  </tr> 
  </thead> 
  <tbody> 
  {% for todo in todos %} 
  <tr> 
    <th>{{ todo.title }}</th> 
    <th style="width: 400px"><text>{{ todo.description }}</text></th> 
    <th> 
      {% if todo.completed %} 
      已完成 
      <form action="/delete/{{todo.id}}">
      <button class="btn btn-warning">删除事件</button>
      </form>
      {% else %} 
      未完成 
      <form action="/complete/{{todo.id}}">
      <button class="btn btn-success">标记完成</button>
      </form>
      {% endif %} 
    </th> 
      <th>{{ todo.created_at | date:'Y-m-d H:i:s'}}</th> 
      <th>{{ todo.updated_at | date:'Y-m-d H:i:s'}}</th> 
      <th><button class="btn btn-primary" data-toggle="modal" data-target="#modal-edit-{{todo.id}}">编辑</button>
                  <div class="modal fade" id="modal-edit-{{todo.id}}">
                    <form action='/edit/{{todo.id}}/' method="post">
                      {% csrf_token %}
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">修改事件</h4>
                          </div>
                          <div class="modal-body">
                              <div class="form-group">
                                <label>事件名称</label>
                                <input type="text" class="form-control" name="title" value="{{todo.title}}"/>
                              </div>
                              <div class="form-group">
                                <label>事件内容</label>
                                <input type="text" class="form-control" name="description"
                                value="{{todo.description}}"></textarea>
                              </div>
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                            <button type="submit" class="btn btn-primary">提交</button>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>

          </th>
  </tr> 
  {% endfor %} 
  </tbody> 
</table>

</div>
  <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>

</body>
</html>